
ifndef B1OPTS
define B1OPTS=
endif

# Set the pattern used to find the header file bty:
# Replace %s with the value from format_name to find find the main
# C++ header file associated with the buffer that prototypes the format function.
format_header_pattern %s_format.hh

# Set the pattern used to find Estimated_Sizes and format 
# function implementation.
# Replace %s with the value from format_name to find the main
# C++ file associated with the buffer with the autogenerated format function
# implementation.
# if the next line is not recognized you need atleast version 
format_source_pattern %s_format_n.cc

# Tell various tools to look for definitions in nml_test_format.hh and 
# and estimated sizes and the format implementation in nml_test_format_n.cc
buffer_default format_name=nml_test

b bufname=b1 $(B1OPTS)  confirm_write
b bufname=b2  bsem=20001 $(B1OPTS) confirm_write
b bufname=qb  bsem=20003 queue=10 $(B1OPTS) confirm_write

# unset the buffer_default format_name=nml_test 
buffer_default clear_endline


b bufname=qbun size=600000 neutral=1 bsem_needed queue=10 $(B1OPTS) confirm_write format_name=nml_test_unbounded 

#buffer_default  vme_addr=0x1400000
#b bufname=globmem_buf1 buftype=GLOBMEM size=3000
#b bufname=globmem_buf2 buftype=GLOBMEM size=5000  split 
##SHM_KEY=3001 USE_SHMEM_FOR_TESTING_GMEM
#b bufname=globmem_buf3 buftype=GLOBMEM size=5000  split
#b bufname=globmem_buf4 buftype=GLOBMEM size=3000 

process_default proctype=local timeout=10.0 waitformaster server=0

p procname=lw bufname=default timeout=1.0
p procname=lr bufname=default timeout=0.1
p procname=lwm bufname=default timeout=1.0 master=1
p procname=lrm bufname=default timeout=0.1 master=1 
p procname=rw bufname=default proctype=remote
p procname=rr bufname=default proctype=remote timeout=5.0
p procname=b1s bufname=b1 server=1 master=1
p procname=b1s bufname=default server=1 master=1
p procname=b2s bufname=b2 server=1 master=1
p procname=b2s bufname=default server=1 master=1
p procname=qbuns bufname=qbun server=1 master=1
p procname=qbuns bufname=default server=1 master=1




